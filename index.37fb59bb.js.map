{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,sDAQA,SAASC,EAAaC,GACpBC,SAASC,eAAe,cAAcC,YAAcH,EAAMI,MAC1DH,SAASC,eAAe,eAAeC,YAAcH,EAAMK,aAAaC,WAAW,IAAK,KACxF,IAAIC,EAAmBC,OAAOR,EAAMS,cAAcC,QAAQ,GAC1DT,SAASC,eAAe,aAAaC,YAAcI,EACnDN,SAASC,eAAe,cAAcC,YAAcH,EAAMW,WAC1D,IAAIC,EAAkBJ,OAAOR,EAAMa,YAAYH,QAAQ,GACvDT,SAASC,eAAe,mBAAmBC,YAAcS,EAEzD,IAAME,GAAa,EAAAC,EAAAC,eAAchB,EAAMiB,WACvChB,SAASC,eAAe,cAAcC,YAAcW,EAEpDb,SAASC,eAAe,iBAAiBC,YAAcH,EAAMkB,SAE7DC,QAAQC,IAAIpB,GACZ,IAAMqB,EAAerB,EAAMsB,cAAgB,GAAkBC,OAlB1C,uCAkB8DA,OAApBvB,EAAMsB,eAAkB,4BACrFrB,SAASC,eAAe,YAAYsB,IAAMH,C,CAQ3CI,EAAA5B,EAAA,CAAA4B,EAAAC,GAAAC,MAAA,SAAAC,I,IACOC,EAGAC,E,mFAHoB,EAAAC,EAAAC,a,cAApBH,EAAWI,EAAAC,KACRL,E,UAEyB,EAAAE,EAAAI,mBAAkB,G,OAA9CL,EAAmBG,EAAAC,KATIE,EAUMN,EAAoBO,QACvDtC,EATOqC,EADaE,KAAKC,MAAMD,KAAKE,SAAWJ,EAAOK,U,iCADjD,IAAwBL,C,SAK9B,GASD,IAAMM,EAAgBzC,SAASC,eAAe,iBAE9CwC,EAAcC,iBAAiB,SAAS,WACG,sBAArCD,EAAcvC,YAAYyC,OAC5BF,EAAcvC,YAAc,yBAE5BuC,EAAcvC,YAAc,mB","sources":["src/partials_js/upcoming.js"],"sourcesContent":["import { getUpcomingMovies } from \"./api\";\nimport { getGenres } from \"./api\";\nimport { getGenreNames } from \"./weekly_trends\";\n\n// const IMG_BASE_URL = 'https://image.tmdb.org/t/p/w500';\nconst IMG_BASE_URL = 'https://image.tmdb.org/t/p/original';\nlet genres = [];\n\nfunction displayMovie(movie) {\n  document.getElementById('movieTitle').textContent = movie.title;\n  document.getElementById('releaseDate').textContent = movie.release_date.replaceAll(\"-\", \".\");\n  let movieVoteAvarage = Number(movie.vote_average).toFixed(1);\n  document.getElementById('movieVote').textContent = movieVoteAvarage;\n  document.getElementById('movieVotes').textContent = movie.vote_count;\n  let moviePopularity = Number(movie.popularity).toFixed(1);\n  document.getElementById('moviePopularity').textContent = moviePopularity;\n  \n  const genreNames = getGenreNames(movie.genre_ids);\n  document.getElementById('movieGenre').textContent = genreNames;\n  \n  document.getElementById('movieOverview').textContent = movie.overview;\n  \n  console.log(movie);\n  const backdropPath = movie.backdrop_path ? `${IMG_BASE_URL}${movie.backdrop_path}` : '../images/placeholder.jpg';\n  document.getElementById('movieImg').src = backdropPath;\n}\n\nexport function getRandomMovie(movies) {\n  const randomIndex = Math.floor(Math.random() * movies.length);\n  return movies[randomIndex];\n}\n\n(async () => {\n  const fetchGenres = await getGenres();\n  genres = fetchGenres;\n\n  const fetchUpcomingMovies = await getUpcomingMovies(1);\n  const randomMovie = getRandomMovie(fetchUpcomingMovies.results); \n  displayMovie(randomMovie); \n})();\n\nconst libraryButton = document.getElementById('libraryButton');\n\nlibraryButton.addEventListener('click', function () {\n  if (libraryButton.textContent.trim() === 'Add to my library') {\n    libraryButton.textContent = 'Remove from my library';\n  } else {\n    libraryButton.textContent = 'Add to my library';\n  }\n});\n\n"],"names":["$bpxeT","parcelRequire","$1b8722de51b50d04$var$displayMovie","movie","document","getElementById","textContent","title","release_date","replaceAll","movieVoteAvarage","Number","vote_average","toFixed","vote_count","moviePopularity","popularity","genreNames","$dxW8t","getGenreNames","genre_ids","overview","console","log","backdropPath","backdrop_path","concat","src","$parcel$interopDefault","$2TvXO","mark","_callee","fetchGenres","fetchUpcomingMovies","$fpMk3","getGenres","_ctx","sent","getUpcomingMovies","movies","results","Math","floor","random","length","$1b8722de51b50d04$var$libraryButton","addEventListener","trim"],"version":3,"file":"index.37fb59bb.js.map"}