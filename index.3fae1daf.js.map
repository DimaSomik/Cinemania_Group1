{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,4BAMA,IAAIC,EAAS,GA0BZ,WACC,MAAMC,QAAoB,EAAAH,EAAAI,aAC1BF,EAASC,EAET,MAAME,QAA4B,EAAAL,EAAAM,mBAAkB,GAT/C,IAAwBC,GAnB/B,SAAsBC,GACpBC,SAASC,eAAe,cAAcC,YAAcH,EAAMI,MAC1DH,SAASC,eAAe,eAAeC,YAAcH,EAAMK,aAAaC,WAAW,IAAK,KACxF,IAAIC,EAAmBC,OAAOR,EAAMS,cAAcC,QAAQ,GAC1DT,SAASC,eAAe,aAAaC,YAAcI,EACnDN,SAASC,eAAe,cAAcC,YAAcH,EAAMW,WAC1D,IAAIC,EAAkBJ,OAAOR,EAAMa,YAAYH,QAAQ,GACvDT,SAASC,eAAe,mBAAmBC,YAAcS,EAEzD,MAAME,GAAa,EAAAC,EAAAC,eAAchB,EAAMiB,WACvChB,SAASC,eAAe,cAAcC,YAAcW,EAEpDb,SAASC,eAAe,iBAAiBC,YAAcH,EAAMkB,SAE7DC,QAAQC,IAAIpB,GACZ,MAAMqB,EAAerB,EAAMsB,cAAgB,sCAAkBtB,EAAMsB,gBAAkB,4BACrFrB,SAASC,eAAe,YAAYqB,IAAMF,C,CAc1CG,EAX6BzB,EAUMF,EAAoB4B,SATnCC,KAAKC,MAAMD,KAAKE,SAAW7B,EAAO8B,SAWvD,EAPA,GASD,MAAMC,EAAgB7B,SAASC,eAAe,iBAE9C4B,EAAcC,iBAAiB,SAAS,WACG,sBAArCD,EAAc3B,YAAY6B,OAC5BF,EAAc3B,YAAc,yBAE5B2B,EAAc3B,YAAc,mB","sources":["src/partials_js/upcoming.js"],"sourcesContent":["import { getUpcomingMovies } from \"./api\";\nimport { getGenres } from \"./api\";\nimport { getGenreNames } from \"./weekly_trends\";\n\n// const IMG_BASE_URL = 'https://image.tmdb.org/t/p/w500';\nconst IMG_BASE_URL = 'https://image.tmdb.org/t/p/original';\nlet genres = [];\n\nfunction displayMovie(movie) {\n  document.getElementById('movieTitle').textContent = movie.title;\n  document.getElementById('releaseDate').textContent = movie.release_date.replaceAll(\"-\", \".\");\n  let movieVoteAvarage = Number(movie.vote_average).toFixed(1);\n  document.getElementById('movieVote').textContent = movieVoteAvarage;\n  document.getElementById('movieVotes').textContent = movie.vote_count;\n  let moviePopularity = Number(movie.popularity).toFixed(1);\n  document.getElementById('moviePopularity').textContent = moviePopularity;\n  \n  const genreNames = getGenreNames(movie.genre_ids);\n  document.getElementById('movieGenre').textContent = genreNames;\n  \n  document.getElementById('movieOverview').textContent = movie.overview;\n  \n  console.log(movie);\n  const backdropPath = movie.backdrop_path ? `${IMG_BASE_URL}${movie.backdrop_path}` : '../images/placeholder.jpg';\n  document.getElementById('movieImg').src = backdropPath;\n}\n\nexport function getRandomMovie(movies) {\n  const randomIndex = Math.floor(Math.random() * movies.length);\n  return movies[randomIndex];\n}\n\n(async () => {\n  const fetchGenres = await getGenres();\n  genres = fetchGenres;\n\n  const fetchUpcomingMovies = await getUpcomingMovies(1);\n  const randomMovie = getRandomMovie(fetchUpcomingMovies.results); \n  displayMovie(randomMovie); \n})();\n\nconst libraryButton = document.getElementById('libraryButton');\n\nlibraryButton.addEventListener('click', function () {\n  if (libraryButton.textContent.trim() === 'Add to my library') {\n    libraryButton.textContent = 'Remove from my library';\n  } else {\n    libraryButton.textContent = 'Add to my library';\n  }\n});\n\n"],"names":["$ll9qB","parcelRequire","$3c6c4a8b576709d9$var$genres","fetchGenres","getGenres","fetchUpcomingMovies","getUpcomingMovies","movies","movie","document","getElementById","textContent","title","release_date","replaceAll","movieVoteAvarage","Number","vote_average","toFixed","vote_count","moviePopularity","popularity","genreNames","$2qbMk","getGenreNames","genre_ids","overview","console","log","backdropPath","backdrop_path","src","$3c6c4a8b576709d9$var$displayMovie","results","Math","floor","random","length","$3c6c4a8b576709d9$var$libraryButton","addEventListener","trim"],"version":3,"file":"index.3fae1daf.js.map"}